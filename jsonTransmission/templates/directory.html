<html>
    <head>
        <title>{{ result['_id']['buildID'] }}, {{ result['_id']['gitHash'] }}</title>
    </head>
    <body>
        <h1>Coverage Results For {{ result['_id']['buildID'] }}, {{ result['_id']['gitHash'] }}</h1>
        <h2>Summary</h2>
        <p> 
            {% if 'lineCount' in result %}
            Total lines: {{ result['lineCount'] }} <br />
            Lines covered: {{ result['lineCovCount'] }} <br />
            Percent lines covered: {{ result['lineCovPercentage'] }} <br />
            {% end %}
        </p>
        <p>
            {% if 'funcCount' in result %} 
            Total functions: {{ result['funcCount'] }} <br />
            Functions covered: {{ result['funcCovCount'] }} <br />
            Percent functions covered: {{ result['funcCovPercentage'] }} <br />
            {% end %}
        </p>
        <h2>Coverage Results by Directory</h2>
        <table>
            <tr><td>Directory</td><td>Line Coverage</td><td>Functions</td>
            {% for dirResult in dirResults %}
            <tr>
                <td>{{ dirResult['_id']['dir'] }}</td>
                {% if 'lineCount' in dirResult %}
                <td>{{ dirResult['lineCovPercentage'] }}%, 
                    {{ dirResult['lineCovCount'] }}/{{ dirResult['lineCount'] }}</td>
                {% else %}
                <td>0.0%, 0/0</td>
                {% end %}
                {% if 'funcCount' in dirResult %}
                <td>{{ dirResult['funcCovPercentage'] }}%, 
                    {{ dirResult['funcCovCount'] }}/{{ dirResult['funcCount'] }}</td>
                {% else %}
                <td>0.0%, 0/0</td>
                {% end %}
            </tr> 
            {% end %}
        </table>
    </body>
</html>
